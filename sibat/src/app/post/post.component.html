<div class="post-container">
  <button mat-stroked-button color="primary" routerLink="/home" style="margin-bottom: 1rem;">
    <mat-icon>arrow_back</mat-icon>
    Back to Home
  </button>
  <h1>Post Your Errand</h1>
  <mat-horizontal-stepper [linear]="true" #stepper>
    <!-- Step 1: Collect Details -->
    <mat-step [stepControl]="detailsForm">
      <form [formGroup]="detailsForm">
        <ng-template matStepLabel>Errand Details</ng-template>
        <!-- Collecting Location -->
        <div class="form-group">
          <label for="collectingLocation">Errand Location</label>
          <input type="text" id="collectingLocation" formControlName="collectingLocation" required />
        </div>

        <!-- What to Do -->
        <div class="form-group">
          <label for="taskDescription">What to Do</label>
          <textarea id="taskDescription" formControlName="taskDescription" required></textarea>
        </div>

        <!-- Tip -->
        <div class="form-group">
          <label for="tip">Tip (₱)</label>
          <input type="number" id="tip" formControlName="tip" required />
        </div>

        <!-- Delivery Location -->
        <div class="form-group">
          <label for="deliveryLocation">Delivery Location</label>
          <input type="text" id="deliveryLocation" formControlName="deliveryLocation" required />
        </div>

        <div>
          <button mat-button matStepperNext [disabled]="detailsForm.invalid">Next</button>
        </div>
      </form>
    </mat-step>

    <!-- Step 2: Summary -->
    <mat-step>
  <ng-template matStepLabel>Summary</ng-template>

  <div class="summary">
    <h2>Price Breakdown</h2>

    <p>
      Base Price:
      <span>₱{{ basePrice | number:'1.2-2' }}</span>
    </p>

    <p>
      Delivery Charge:
      <span>₱{{ deliveryCharge | number:'1.2-2' }}</span>
    </p>

    <p>
      Service Charge (10%):
      <span>₱{{ serviceCharge | number:'1.2-2' }}</span>
    </p>

    <p>
      Tip:
      <span>₱{{ detailsForm.get('tip')?.value | number:'1.2-2' }}</span>
    </p>

    <hr />

    <p class="total">
      <strong>
        Total Price:
        ₱{{ totalPrice | number:'1.2-2' }}
      </strong>
    </p>

    <small class="note">
      * Receipt cost will be paid separately if applicable ,<strong>(No Receipt = No Pay)</strong>
      
    </small>
  </div>

  <div>
    <button mat-button matStepperPrevious>Back</button>
    <button mat-button color="primary" (click)="submitErrand()">
      Confirm
    </button>
  </div>
</mat-step>
  </mat-horizontal-stepper>
</div>